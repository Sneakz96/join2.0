<div class="content">
    <h1>Add task</h1>

    <!--#ALERTS-->
    <button [ngClass]="{'d-none': data.taskCreated === true}" id="alert" role="alert">
        All Input fields are requested!
    </button>
    <button [ngClass]="{'d-none': data.taskCreated === true}" id="subAlert" role="alert">
        All Input fields are requested!
    </button>
    <!--#ALERTS-->
    <div class="create-new-task">
        <!--#CREATE TASK SECTION-->
        <!-- <form [formGroup]="taskForm"> -->
        <div class="create">
            <div class="row row-left">
                <h5>Title</h5>
                <!-- <input class="input-field" type="text" placeholder="Enter a title" #title> -->
                <form [formGroup]="taskForm">

                    <input class="input-field" type="text" id="title" formControlName="title"
                        placeholder="Enter a title">
                </form>


                <h5>Description</h5>
                <textarea class="textaria" rows="10" placeholder="Enter a Description" #description></textarea>

                <h5>Category</h5>
                <select class="category" #category>
                    <option class="placeholder" disabled selected hidden>Select task category</option>
                    <option class="black" value="Management">Management</option>
                    <option value="Marketing">Marketing</option>
                    <option value="Costumer Service">Costumer Service</option>
                    <option value="Team">Team</option>
                    <option value="Design">Design</option>
                    <option value="IT">IT</option>
                    <option value="Media">Media</option>
                    <option value="Backoffice">Backoffice</option>
                    <option value="Sales">Sales</option>
                </select>

                <h5>Category</h5>
                <mat-form-field class="assigned" appearance="fill">
                    <mat-select [(ngModel)]="selectedValue" name="food">
                        <mat-option *ngFor="let food of categorys" [value]="food">
                            <input type="checkbox"> {{food}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>



                <h5>Assigned to</h5>
                <div class="assigned" appearance="fill">
                    <mat-select [(value)]="assignedCollegues" [formControl]="contact" [placeholder]="'Select contacts'"
                        multiple #assignedContacts>
                        <mat-option *ngFor="let contact of data.allContacts$ | async" [value]="contact">
                            {{contact.firstName}} {{contact.lastName}}</mat-option>
                    </mat-select>
                </div>

            </div>


            <div class="vector"></div>


            <div class="row row-right">
                <h5>Due date</h5>
                <div class="date input-field">
                    <input matInput #dueDate class="" [matDatepicker]="datePicker" disabled [min]="data.today"
                        [placeholder]="'DD/MM/YYYY'">
                    <mat-datepicker-toggle class="calendar" matIconSuffix [for]="datePicker"></mat-datepicker-toggle>
                    <mat-datepicker touchUi="" #datePicker disabled="false"></mat-datepicker>
                </div>

                <h5>Prio</h5>
                <div class="priority">
                    <button id="addLow" [ngClass]="{'low': data.low}" (click)="data.setPrio('Low')">Low
                        <div [ngClass]="{'low': data.low}"></div>
                    </button>
                    <button id="addMedium" [ngClass]="{'medium': data.medium}" (click)="data.setPrio('Medium')">Medium
                        <div [ngClass]="{'medium': data.medium}"></div>
                    </button>
                    <button id="addHigh" [ngClass]="{'high': data.high}" (click)="data.setPrio('Urgent')">Urgent
                        <div [ngClass]="{'high': data.high}"></div>
                    </button>
                </div>

                <h5>Subtasks</h5>
                <div class="subtask">
                    <input class="input-field" type="text" (input)="updateSubTask($event)" placeholder="Add new subtask"
                        #subInput [(ngModel)]="addSubInput">
                    <img class="plus" src="/assets/img/icons/plus.png">
                    <!-- (click)="addSubTask()" -->
                </div>
                <div class="subtasks" #subtasks>
                    <div class="_2" *ngFor="let subtasks of addedSubTasks">
                        <input type="checkbox">
                        <label for="checkbox">{{ subtasks }}</label>
                    </div>
                </div>

                <div class="btn-container">
                    <!-- (click)="clearAllValues()" -->
                    <button class="clear-btn">Clear<img src="/assets/img/icons/close.png"></button>
                    <!-- (click)="addTask()" -->
                    <button class="create-task-btn" (click)="sendForm(task)">Create Task<img src="/assets/img/icons/create.png"></button>
                </div>
                <button class="mb-alert" *ngIf="data.alert">Task added to Board
                    <img src="./assets/img/icons/task_added_mb.png"></button>
            </div>
        </div>
        <!-- </form> -->
    </div>
</div>